!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).RTCDetect=t()}(this,(function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t){return e(t={exports:{}},t.exports),t.exports}var r=function(e){return e&&e.Math==Math&&e},n=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||function(){return this}()||Function("return this")(),o=function(e){try{return!!e()}catch(t){return!0}},i=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),a={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,c={f:u&&!a.call({1:2},1)?function(e){var t=u(this,e);return!!t&&t.enumerable}:a},s=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},f={}.toString,l=function(e){return f.call(e).slice(8,-1)},p="".split,d=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==l(e)?p.call(e,""):Object(e)}:Object,h=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},v=function(e){return d(h(e))},y=function(e){return"object"==typeof e?null!==e:"function"==typeof e},g=function(e,t){if(!y(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!y(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!y(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!y(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},m={}.hasOwnProperty,b=function(e,t){return m.call(e,t)},w=n.document,S=y(w)&&y(w.createElement),x=function(e){return S?w.createElement(e):{}},E=!i&&!o((function(){return 7!=Object.defineProperty(x("div"),"a",{get:function(){return 7}}).a})),O=Object.getOwnPropertyDescriptor,k={f:i?O:function(e,t){if(e=v(e),t=g(t,!0),E)try{return O(e,t)}catch(r){}if(b(e,t))return s(!c.f.call(e,t),e[t])}},R=function(e){if(!y(e))throw TypeError(String(e)+" is not an object");return e},T=Object.defineProperty,C={f:i?T:function(e,t,r){if(R(e),t=g(t,!0),R(r),E)try{return T(e,t,r)}catch(n){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},I=i?function(e,t,r){return C.f(e,t,s(1,r))}:function(e,t,r){return e[t]=r,e},j=function(e,t){try{I(n,e,t)}catch(r){n[e]=t}return t},P=n["__core-js_shared__"]||j("__core-js_shared__",{}),A=Function.toString;"function"!=typeof P.inspectSource&&(P.inspectSource=function(e){return A.call(e)});var L,M,D,_=P.inspectSource,F=n.WeakMap,B="function"==typeof F&&/native code/.test(_(F)),N=t((function(e){(e.exports=function(e,t){return P[e]||(P[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.1",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),W=0,V=Math.random(),Q=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++W+V).toString(36)},H=N("keys"),G=function(e){return H[e]||(H[e]=Q(e))},U={},z=n.WeakMap;if(B){var K=P.state||(P.state=new z),$=K.get,X=K.has,Y=K.set;L=function(e,t){return t.facade=e,Y.call(K,e,t),t},M=function(e){return $.call(K,e)||{}},D=function(e){return X.call(K,e)}}else{var q=G("state");U[q]=!0,L=function(e,t){return t.facade=e,I(e,q,t),t},M=function(e){return b(e,q)?e[q]:{}},D=function(e){return b(e,q)}}var J,Z,ee={set:L,get:M,has:D,enforce:function(e){return D(e)?M(e):L(e,{})},getterFor:function(e){return function(t){var r;if(!y(t)||(r=M(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}},te=t((function(e){var t=ee.get,r=ee.enforce,o=String(String).split("String");(e.exports=function(e,t,i,a){var u,c=!!a&&!!a.unsafe,s=!!a&&!!a.enumerable,f=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof t||b(i,"name")||I(i,"name",t),(u=r(i)).source||(u.source=o.join("string"==typeof t?t:""))),e!==n?(c?!f&&e[t]&&(s=!0):delete e[t],s?e[t]=i:I(e,t,i)):s?e[t]=i:j(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||_(this)}))})),re=n,ne=function(e){return"function"==typeof e?e:void 0},oe=function(e,t){return arguments.length<2?ne(re[e])||ne(n[e]):re[e]&&re[e][t]||n[e]&&n[e][t]},ie=Math.ceil,ae=Math.floor,ue=function(e){return isNaN(e=+e)?0:(e>0?ae:ie)(e)},ce=Math.min,se=function(e){return e>0?ce(ue(e),9007199254740991):0},fe=Math.max,le=Math.min,pe=function(e){return function(t,r,n){var o,i=v(t),a=se(i.length),u=function(e,t){var r=ue(e);return r<0?fe(r+t,0):le(r,t)}(n,a);if(e&&r!=r){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((e||u in i)&&i[u]===r)return e||u||0;return!e&&-1}},de={includes:pe(!0),indexOf:pe(!1)},he=de.indexOf,ve=function(e,t){var r,n=v(e),o=0,i=[];for(r in n)!b(U,r)&&b(n,r)&&i.push(r);for(;t.length>o;)b(n,r=t[o++])&&(~he(i,r)||i.push(r));return i},ye=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ge=ye.concat("length","prototype"),me={f:Object.getOwnPropertyNames||function(e){return ve(e,ge)}},be={f:Object.getOwnPropertySymbols},we=oe("Reflect","ownKeys")||function(e){var t=me.f(R(e)),r=be.f;return r?t.concat(r(e)):t},Se=function(e,t){for(var r=we(t),n=C.f,o=k.f,i=0;i<r.length;i++){var a=r[i];b(e,a)||n(e,a,o(t,a))}},xe=/#|\.prototype\./,Ee=function(e,t){var r=ke[Oe(e)];return r==Te||r!=Re&&("function"==typeof t?o(t):!!t)},Oe=Ee.normalize=function(e){return String(e).replace(xe,".").toLowerCase()},ke=Ee.data={},Re=Ee.NATIVE="N",Te=Ee.POLYFILL="P",Ce=Ee,Ie=k.f,je=function(e,t){var r,o,i,a,u,c=e.target,s=e.global,f=e.stat;if(r=s?n:f?n[c]||j(c,{}):(n[c]||{}).prototype)for(o in t){if(a=t[o],i=e.noTargetGet?(u=Ie(r,o))&&u.value:r[o],!Ce(s?o:c+(f?".":"#")+o,e.forced)&&void 0!==i){if(typeof a==typeof i)continue;Se(a,i)}(e.sham||i&&i.sham)&&I(a,"sham",!0),te(r,o,a,e)}},Pe=Array.isArray||function(e){return"Array"==l(e)},Ae=function(e){return Object(h(e))},Le=function(e,t,r){var n=g(t);n in e?C.f(e,n,s(0,r)):e[n]=r},Me=!!Object.getOwnPropertySymbols&&!o((function(){return!String(Symbol())})),De=Me&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,_e=N("wks"),Fe=n.Symbol,Be=De?Fe:Fe&&Fe.withoutSetter||Q,Ne=function(e){return b(_e,e)||(Me&&b(Fe,e)?_e[e]=Fe[e]:_e[e]=Be("Symbol."+e)),_e[e]},We=Ne("species"),Ve=function(e,t){var r;return Pe(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!Pe(r.prototype)?y(r)&&null===(r=r[We])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)},Qe=oe("navigator","userAgent")||"",He=n.process,Ge=He&&He.versions,Ue=Ge&&Ge.v8;Ue?Z=(J=Ue.split("."))[0]+J[1]:Qe&&(!(J=Qe.match(/Edge\/(\d+)/))||J[1]>=74)&&(J=Qe.match(/Chrome\/(\d+)/))&&(Z=J[1]);var ze=Z&&+Z,Ke=Ne("species"),$e=function(e){return ze>=51||!o((function(){var t=[];return(t.constructor={})[Ke]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Xe=Ne("isConcatSpreadable"),Ye=ze>=51||!o((function(){var e=[];return e[Xe]=!1,e.concat()[0]!==e})),qe=$e("concat"),Je=function(e){if(!y(e))return!1;var t=e[Xe];return void 0!==t?!!t:Pe(e)};je({target:"Array",proto:!0,forced:!Ye||!qe},{concat:function(e){var t,r,n,o,i,a=Ae(this),u=Ve(a,0),c=0;for(t=-1,n=arguments.length;t<n;t++)if(Je(i=-1===t?a:arguments[t])){if(c+(o=se(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<o;r++,c++)r in i&&Le(u,c,i[r])}else{if(c>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Le(u,c++,i)}return u.length=c,u}});t((function(e){var t=function(e){var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var o=t&&t.prototype instanceof l?t:l,i=Object.create(o.prototype),a=new E(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return k()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===f)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,a),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f={};function l(){}function p(){}function d(){}var h={};h[o]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(O([])));y&&y!==t&&r.call(y,o)&&(h=y);var g=d.prototype=l.prototype=Object.create(h);function m(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,u){var c=s(e[o],e,i);if("throw"!==c.type){var f=c.arg,l=f.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){f.value=e,a(f)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return p.prototype=g.constructor=d,d.constructor=p,p.displayName=u(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},m(b.prototype),b.prototype[i]=function(){return this},e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},m(g),u(g,a,"Generator"),g[o]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=O,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}(e.exports);try{regeneratorRuntime=t}catch(r){Function("r","regeneratorRuntime = r")(t)}}));function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t,r,n,o,i,a){try{var u=e[i](a),c=u.value}catch(s){return void r(s)}u.done?t(c):Promise.resolve(c).then(n,o)}function tt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){et(i,n,o,a,u,"next",e)}function u(e){et(i,n,o,a,u,"throw",e)}a(void 0)}))}}function rt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function it(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(r),!0).forEach((function(t){nt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(c){o=!0,i=c}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ut(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ut(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ct,st=Object.keys||function(e){return ve(e,ye)},ft=i?Object.defineProperties:function(e,t){R(e);for(var r,n=st(t),o=n.length,i=0;o>i;)C.f(e,r=n[i++],t[r]);return e},lt=oe("document","documentElement"),pt=G("IE_PROTO"),dt=function(){},ht=function(e){return"<script>"+e+"<\/script>"},vt=function(){try{ct=document.domain&&new ActiveXObject("htmlfile")}catch(n){}var e,t;vt=ct?function(e){e.write(ht("")),e.close();var t=e.parentWindow.Object;return e=null,t}(ct):((t=x("iframe")).style.display="none",lt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(ht("document.F=Object")),e.close(),e.F);for(var r=ye.length;r--;)delete vt.prototype[ye[r]];return vt()};U[pt]=!0;var yt=Object.create||function(e,t){var r;return null!==e?(dt.prototype=R(e),r=new dt,dt.prototype=null,r[pt]=e):r=vt(),void 0===t?r:ft(r,t)},gt=Ne("unscopables"),mt=Array.prototype;null==mt[gt]&&C.f(mt,gt,{configurable:!0,value:yt(null)});var bt,wt,St,xt=function(e){mt[gt][e]=!0},Et={},Ot=!o((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),kt=G("IE_PROTO"),Rt=Object.prototype,Tt=Ot?Object.getPrototypeOf:function(e){return e=Ae(e),b(e,kt)?e[kt]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Rt:null},Ct=Ne("iterator"),It=!1;[].keys&&("next"in(St=[].keys())?(wt=Tt(Tt(St)))!==Object.prototype&&(bt=wt):It=!0),null==bt&&(bt={}),b(bt,Ct)||I(bt,Ct,(function(){return this}));var jt={IteratorPrototype:bt,BUGGY_SAFARI_ITERATORS:It},Pt=C.f,At=Ne("toStringTag"),Lt=function(e,t,r){e&&!b(e=r?e:e.prototype,At)&&Pt(e,At,{configurable:!0,value:t})},Mt=jt.IteratorPrototype,Dt=function(){return this},_t=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(n){}return function(r,n){return R(r),function(e){if(!y(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(n),t?e.call(r,n):r.__proto__=n,r}}():void 0),Ft=jt.IteratorPrototype,Bt=jt.BUGGY_SAFARI_ITERATORS,Nt=Ne("iterator"),Wt=function(){return this},Vt=function(e,t,r,n,o,i,a){!function(e,t,r){var n=t+" Iterator";e.prototype=yt(Mt,{next:s(1,r)}),Lt(e,n,!1),Et[n]=Dt}(r,t,n);var u,c,f,l=function(e){if(e===o&&y)return y;if(!Bt&&e in h)return h[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},p=t+" Iterator",d=!1,h=e.prototype,v=h[Nt]||h["@@iterator"]||o&&h[o],y=!Bt&&v||l(o),g="Array"==t&&h.entries||v;if(g&&(u=Tt(g.call(new e)),Ft!==Object.prototype&&u.next&&(Tt(u)!==Ft&&(_t?_t(u,Ft):"function"!=typeof u[Nt]&&I(u,Nt,Wt)),Lt(u,p,!0))),"values"==o&&v&&"values"!==v.name&&(d=!0,y=function(){return v.call(this)}),h[Nt]!==y&&I(h,Nt,y),Et[t]=y,o)if(c={values:l("values"),keys:i?y:l("keys"),entries:l("entries")},a)for(f in c)(Bt||d||!(f in h))&&te(h,f,c[f]);else je({target:t,proto:!0,forced:Bt||d},c);return c},Qt=ee.set,Ht=ee.getterFor("Array Iterator"),Gt=Vt(Array,"Array",(function(e,t){Qt(this,{type:"Array Iterator",target:v(e),index:0,kind:t})}),(function(){var e=Ht(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values");Et.Arguments=Et.Array,xt("keys"),xt("values"),xt("entries");var Ut=!o((function(){return Object.isExtensible(Object.preventExtensions({}))})),zt=t((function(e){var t=C.f,r=Q("meta"),n=0,o=Object.isExtensible||function(){return!0},i=function(e){t(e,r,{value:{objectID:"O"+ ++n,weakData:{}}})},a=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!y(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!b(e,r)){if(!o(e))return"F";if(!t)return"E";i(e)}return e[r].objectID},getWeakData:function(e,t){if(!b(e,r)){if(!o(e))return!0;if(!t)return!1;i(e)}return e[r].weakData},onFreeze:function(e){return Ut&&a.REQUIRED&&o(e)&&!b(e,r)&&i(e),e}};U[r]=!0})),Kt=(zt.REQUIRED,zt.fastKey,zt.getWeakData,zt.onFreeze,Ne("iterator")),$t=Array.prototype,Xt=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Yt=function(e,t,r){if(Xt(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}},qt={};qt[Ne("toStringTag")]="z";var Jt="[object z]"===String(qt),Zt=Ne("toStringTag"),er="Arguments"==l(function(){return arguments}()),tr=Jt?l:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(r){}}(t=Object(e),Zt))?r:er?l(t):"Object"==(n=l(t))&&"function"==typeof t.callee?"Arguments":n},rr=Ne("iterator"),nr=function(e){var t=e.return;if(void 0!==t)return R(t.call(e)).value},or=function(e,t){this.stopped=e,this.result=t},ir=function(e,t,r){var n,o,i,a,u,c,s,f,l=r&&r.that,p=!(!r||!r.AS_ENTRIES),d=!(!r||!r.IS_ITERATOR),h=!(!r||!r.INTERRUPTED),v=Yt(t,l,1+p+h),y=function(e){return n&&nr(n),new or(!0,e)},g=function(e){return p?(R(e),h?v(e[0],e[1],y):v(e[0],e[1])):h?v(e,y):v(e)};if(d)n=e;else{if("function"!=typeof(o=function(e){if(null!=e)return e[rr]||e["@@iterator"]||Et[tr(e)]}(e)))throw TypeError("Target is not iterable");if(void 0!==(f=o)&&(Et.Array===f||$t[Kt]===f)){for(i=0,a=se(e.length);a>i;i++)if((u=g(e[i]))&&u instanceof or)return u;return new or(!1)}n=o.call(e)}for(c=n.next;!(s=c.call(n)).done;){try{u=g(s.value)}catch(m){throw nr(n),m}if("object"==typeof u&&u&&u instanceof or)return u}return new or(!1)},ar=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e},ur=Ne("iterator"),cr=!1;try{var sr=0,fr={next:function(){return{done:!!sr++}},return:function(){cr=!0}};fr[ur]=function(){return this},Array.from(fr,(function(){throw 2}))}catch(Da){}var lr=function(e,t){if(!t&&!cr)return!1;var r=!1;try{var n={};n[ur]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(Da){}return r},pr=function(e,t,r){for(var n in t)te(e,n,t[n],r);return e},dr=Ne("species"),hr=function(e){var t=oe(e),r=C.f;i&&t&&!t[dr]&&r(t,dr,{configurable:!0,get:function(){return this}})},vr=C.f,yr=zt.fastKey,gr=ee.set,mr=ee.getterFor,br=(function(e,t,r){var i=-1!==e.indexOf("Map"),a=-1!==e.indexOf("Weak"),u=i?"set":"add",c=n[e],s=c&&c.prototype,f=c,l={},p=function(e){var t=s[e];te(s,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(a&&!y(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return a&&!y(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(a&&!y(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})};if(Ce(e,"function"!=typeof c||!(a||s.forEach&&!o((function(){(new c).entries().next()})))))f=r.getConstructor(t,e,i,u),zt.REQUIRED=!0;else if(Ce(e,!0)){var d=new f,h=d[u](a?{}:-0,1)!=d,v=o((function(){d.has(1)})),g=lr((function(e){new c(e)})),m=!a&&o((function(){for(var e=new c,t=5;t--;)e[u](t,t);return!e.has(-0)}));g||((f=t((function(t,r){ar(t,f,e);var n=function(e,t,r){var n,o;return _t&&"function"==typeof(n=t.constructor)&&n!==r&&y(o=n.prototype)&&o!==r.prototype&&_t(e,o),e}(new c,t,f);return null!=r&&ir(r,n[u],{that:n,AS_ENTRIES:i}),n}))).prototype=s,s.constructor=f),(v||m)&&(p("delete"),p("has"),i&&p("get")),(m||h)&&p(u),a&&s.clear&&delete s.clear}l[e]=f,je({global:!0,forced:f!=c},l),Lt(f,e),a||r.setStrong(f,e,i)}("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(e,t,r,n){var o=e((function(e,a){ar(e,o,t),gr(e,{type:t,index:yt(null),first:void 0,last:void 0,size:0}),i||(e.size=0),null!=a&&ir(a,e[n],{that:e,AS_ENTRIES:r})})),a=mr(t),u=function(e,t,r){var n,o,u=a(e),s=c(e,t);return s?s.value=r:(u.last=s={index:o=yr(t,!0),key:t,value:r,previous:n=u.last,next:void 0,removed:!1},u.first||(u.first=s),n&&(n.next=s),i?u.size++:e.size++,"F"!==o&&(u.index[o]=s)),e},c=function(e,t){var r,n=a(e),o=yr(t);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==t)return r};return pr(o.prototype,{clear:function(){for(var e=a(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,i?e.size=0:this.size=0},delete:function(e){var t=a(this),r=c(this,e);if(r){var n=r.next,o=r.previous;delete t.index[r.index],r.removed=!0,o&&(o.next=n),n&&(n.previous=o),t.first==r&&(t.first=n),t.last==r&&(t.last=o),i?t.size--:this.size--}return!!r},forEach:function(e){for(var t,r=a(this),n=Yt(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!c(this,e)}}),pr(o.prototype,r?{get:function(e){var t=c(this,e);return t&&t.value},set:function(e,t){return u(this,0===e?0:e,t)}}:{add:function(e){return u(this,e=0===e?0:e,e)}}),i&&vr(o.prototype,"size",{get:function(){return a(this).size}}),o},setStrong:function(e,t,r){var n=t+" Iterator",o=mr(t),i=mr(n);Vt(e,t,(function(e,t){gr(this,{type:n,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),hr(t)}}),Jt?{}.toString:function(){return"[object "+tr(this)+"]"});Jt||te(Object.prototype,"toString",br,{unsafe:!0});var wr=function(e){return function(t,r){var n,o,i=String(h(t)),a=ue(r),u=i.length;return a<0||a>=u?e?"":void 0:(n=i.charCodeAt(a))<55296||n>56319||a+1===u||(o=i.charCodeAt(a+1))<56320||o>57343?e?i.charAt(a):n:e?i.slice(a,a+2):o-56320+(n-55296<<10)+65536}},Sr={codeAt:wr(!1),charAt:wr(!0)},xr=Sr.charAt,Er=ee.set,Or=ee.getterFor("String Iterator");Vt(String,"String",(function(e){Er(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=Or(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=xr(r,n),t.index+=e.length,{value:e,done:!1})}));var kr={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Rr=Ne("iterator"),Tr=Ne("toStringTag"),Cr=Gt.values;for(var Ir in kr){var jr=n[Ir],Pr=jr&&jr.prototype;if(Pr){if(Pr[Rr]!==Cr)try{I(Pr,Rr,Cr)}catch(Da){Pr[Rr]=Cr}if(Pr[Tr]||I(Pr,Tr,Ir),kr[Ir])for(var Ar in Gt)if(Pr[Ar]!==Gt[Ar])try{I(Pr,Ar,Gt[Ar])}catch(Da){Pr[Ar]=Gt[Ar]}}}var Lr="[\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff]",Mr=RegExp("^"+Lr+Lr+"*"),Dr=RegExp(Lr+Lr+"*$"),_r=function(e){return function(t){var r=String(h(t));return 1&e&&(r=r.replace(Mr,"")),2&e&&(r=r.replace(Dr,"")),r}},Fr={start:_r(1),end:_r(2),trim:_r(3)}.trim,Br=n.parseFloat,Nr=1/Br("\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff-0")!=-Infinity?function(e){var t=Fr(String(e)),r=Br(t);return 0===r&&"-"==t.charAt(0)?-0:r}:Br;je({global:!0,forced:parseFloat!=Nr},{parseFloat:Nr});var Wr=function(){var e=R(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function Vr(e,t){return RegExp(e,t)}var Qr,Hr,Gr={UNSUPPORTED_Y:o((function(){var e=Vr("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),BROKEN_CARET:o((function(){var e=Vr("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},Ur=RegExp.prototype.exec,zr=String.prototype.replace,Kr=Ur,$r=(Qr=/a/,Hr=/b*/g,Ur.call(Qr,"a"),Ur.call(Hr,"a"),0!==Qr.lastIndex||0!==Hr.lastIndex),Xr=Gr.UNSUPPORTED_Y||Gr.BROKEN_CARET,Yr=void 0!==/()??/.exec("")[1];($r||Yr||Xr)&&(Kr=function(e){var t,r,n,o,i=this,a=Xr&&i.sticky,u=Wr.call(i),c=i.source,s=0,f=e;return a&&(-1===(u=u.replace("y","")).indexOf("g")&&(u+="g"),f=String(e).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==e[i.lastIndex-1])&&(c="(?: "+c+")",f=" "+f,s++),r=new RegExp("^(?:"+c+")",u)),Yr&&(r=new RegExp("^"+c+"$(?!\\s)",u)),$r&&(t=i.lastIndex),n=Ur.call(a?r:i,f),a?n?(n.input=n.input.slice(s),n[0]=n[0].slice(s),n.index=i.lastIndex,i.lastIndex+=n[0].length):i.lastIndex=0:$r&&n&&(i.lastIndex=i.global?n.index+n[0].length:t),Yr&&n&&n.length>1&&zr.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n});var qr=Kr;je({target:"RegExp",proto:!0,forced:/./.exec!==qr},{exec:qr});var Jr=Ne("species"),Zr=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),en="$0"==="a".replace(/./,"$0"),tn=Ne("replace"),rn=!!/./[tn]&&""===/./[tn]("a","$0"),nn=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),on=Sr.charAt,an=function(e,t,r){return t+(r?on(e,t).length:1)},un=function(e,t){var r=e.exec;if("function"==typeof r){var n=r.call(e,t);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==l(e))throw TypeError("RegExp#exec called on incompatible receiver");return qr.call(e,t)};!function(e,t,r,n){var i=Ne(e),a=!o((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),u=a&&!o((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[Jr]=function(){return r},r.flags="",r[i]=/./[i]),r.exec=function(){return t=!0,null},r[i](""),!t}));if(!a||!u||"replace"===e&&(!Zr||!en||rn)||"split"===e&&!nn){var c=/./[i],s=r(i,""[e],(function(e,t,r,n,o){return t.exec===qr?a&&!o?{done:!0,value:c.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:en,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:rn}),f=s[0],l=s[1];te(String.prototype,e,f),te(RegExp.prototype,i,2==t?function(e,t){return l.call(e,this,t)}:function(e){return l.call(e,this)})}n&&I(RegExp.prototype[i],"sham",!0)}("match",1,(function(e,t,r){return[function(t){var r=h(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var o=R(e),i=String(this);if(!o.global)return un(o,i);var a=o.unicode;o.lastIndex=0;for(var u,c=[],s=0;null!==(u=un(o,i));){var f=String(u[0]);c[s]=f,""===f&&(o.lastIndex=an(i,se(o.lastIndex),a)),s++}return 0===s?null:c}]}));var cn=window.navigator&&window.navigator.userAgent||"",sn=/AppleWebKit\/([\d.]+)/i.exec(cn),fn=(sn&&parseFloat(sn.pop()),/iPad/i.test(cn)),ln=/iPhone/i.test(cn)&&!fn,pn=/iPod/i.test(cn),dn=ln||fn||pn,hn=(dn&&function(){var e=cn.match(/OS (\d+)_/i);e&&e[1]&&e[1]}(),/Android/i.test(cn)),vn=hn&&function(){var e=cn.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;var t=e[1]&&parseFloat(e[1]),r=e[2]&&parseFloat(e[2]);return t&&r?parseFloat("".concat(e[1],".").concat(e[2])):t||null}(),yn=(hn&&/webkit/i.test(cn),/Firefox/i.test(cn)),gn=yn&&function(){var e=cn.match(/Firefox\/(\d+)/);return e&&e[1]?parseFloat(e[1]):null}(),mn=/Edge\//i.test(cn),bn=mn&&function(){var e=cn.match(/Edge\/(\d+)/i);if(e&&e[1])return e[1]}(),wn=/Edg\//i.test(cn),Sn=wn&&function(){var e=cn.match(/Edg\/(\d+)/);return e&&e[1]?parseFloat(e[1]):null}(),xn=/SogouMobileBrowser\//i.test(cn),En=xn&&function(){var e=cn.match(/SogouMobileBrowser\/(\d+)/);return e&&e[1]?parseFloat(e[1]):null}(),On=/MetaSr\s/i.test(cn),kn=On&&function(){var e=cn.match(/MetaSr(\s\d+(\.\d+)+)/);return e&&e[1]?parseFloat(e[1]):null}(),Rn=/TBS\/\d+/i.test(cn),Tn=Rn&&function(){var e=cn.match(/TBS\/(\d+)/i);if(e&&e[1])return e[1]}(),Cn=/XWEB\/\d+/i.test(cn),In=Cn&&function(){var e=cn.match(/XWEB\/(\d+)/i);if(e&&e[1])return e[1]}(),jn=(/MSIE\s8\.0/.test(cn),/MSIE\/\d+/i.test(cn)&&function(){var e=/MSIE\s(\d+)\.\d/.exec(cn),t=e&&parseFloat(e[1]);!t&&/Trident\/7.0/i.test(cn)&&/rv:11.0/.test(cn)&&(t=11)}(),/windowswechat/i.test(cn),/(micromessenger|webbrowser)/i.test(cn)),Pn=jn&&function(){var e=cn.match(/MicroMessenger\/(\d+)/i);if(e&&e[1])return e[1]}(),An=!Rn&&/MQQBrowser\/\d+/i.test(cn)&&/COVC\/\d+/i.test(cn),Ln=!Rn&&/MQQBrowser\/\d+/i.test(cn)&&!/COVC\/\d+/i.test(cn),Mn=(Ln||An)&&function(){var e=cn.match(/ MQQBrowser\/([\d.]+)/);return e&&e[1]?e[1]:null}(),Dn=!Rn&&/ QQBrowser\/\d+/i.test(cn),_n=Dn&&function(){var e=cn.match(/ QQBrowser\/([\d.]+)/);return e&&e[1]?e[1]:null}(),Fn=!Rn&&/QQBrowserLite\/\d+/i.test(cn),Bn=Fn&&function(){var e=cn.match(/QQBrowserLite\/([\d.]+)/);return e&&e[1]?e[1]:null}(),Nn=!Rn&&/MQBHD\/\d+/i.test(cn),Wn=Nn&&function(){var e=cn.match(/MQBHD\/([\d.]+)/);return e&&e[1]?e[1]:null}(),Vn=/Windows/i.test(cn),Qn=!dn&&/MAC OS X/i.test(cn),Hn=!hn&&/Linux/i.test(cn),Gn=(/MicroMessenger/i.test(cn),/UCBrowser/i.test(cn)),Un=(/Electron/i.test(cn),/MiuiBrowser/i.test(cn)),zn=Un&&function(){var e=cn.match(/MiuiBrowser\/([\d.]+)/);return e&&e[1]?e[1]:null}(),Kn=/HuaweiBrowser/i.test(cn),$n=Kn&&function(){var e=cn.match(/HuaweiBrowser\/([\d.]+)/);return e&&e[1]?e[1]:null}(),Xn=/SamsungBrowser/i.test(cn),Yn=Xn&&function(){var e=cn.match(/SamsungBrowser\/([\d.]+)/);return e&&e[1]?e[1]:null}(),qn=/HeyTapBrowser/i.test(cn),Jn=qn&&function(){var e=cn.match(/HeyTapBrowser\/([\d.]+)/);return e&&e[1]?e[1]:null}(),Zn=/VivoBrowser/i.test(cn),eo=Zn&&function(){var e=cn.match(/VivoBrowser\/([\d.]+)/);return e&&e[1]?e[1]:null}(),to=/Chrome/i.test(cn),ro=!mn&&!On&&!xn&&!Rn&&!Cn&&!wn&&!Dn&&!Un&&!Kn&&!Xn&&!qn&&!Zn&&/Chrome/i.test(cn),no=(ro&&function(){var e=cn.match(/Chrome\/(\d+)/);e&&e[1]&&parseFloat(e[1])}(),ro&&function(){var e=cn.match(/Chrome\/([\d.]+)/);return e&&e[1]?e[1]:null}()),oo=!to&&!Ln&&!An&&!Fn&&!Nn&&/Safari/i.test(cn),io=oo&&function(){var e=cn.match(/Version\/([\d.]+)/);return e&&e[1]?e[1]:null}(),ao="file:"===location.protocol||"localhost"===location.hostname||/^\d+\.\d+\.\d+\.\d+$/.test(location.hostname),uo=new Map([[hn,"Android"],[dn,"iOS"],[Vn,"Windows"],[Qn,"MacOS"],[Hn,"Linux"]]),co=new Map([[yn,["Firefox",gn]],[wn,["Edg",Sn]],[ro,["Chrome",no]],[oo,["Safari",io]],[Rn,["TBS",Tn]],[Cn,["XWEB",In]],[jn&&ln,["WeChat",Pn]],[Dn,["QQ(Win)",_n]],[Ln,["QQ(Mobile)",Mn]],[An,["QQ(Mobile X5)",Mn]],[Fn,["QQ(Mac)",Bn]],[Nn,["QQ(iPad)",Wn]],[Un,["MI",zn]],[Kn,["HW",$n]],[Xn,["Samsung",Yn]],[qn,["OPPO",Jn]],[Zn,["VIVO",eo]],[mn,["EDGE",bn]],[xn,["SogouMobile",En]],[On,["Sogou",kn]]]),so=function(){var e="unknown",t="unknown";if(co.get(!0)){var r=at(co.get(!0),2);e=r[0],t=r[1]}return{name:e,version:t}},fo=navigator.userAgent,lo=function(){var e=void 0;screen.width&&(e={width:screen.width?screen.width*window.devicePixelRatio:"",height:screen.height?screen.height*window.devicePixelRatio:""});return e},po=[].push,ho=function(e){var t=1==e,r=2==e,n=3==e,o=4==e,i=6==e,a=7==e,u=5==e||i;return function(c,s,f,l){for(var p,h,v=Ae(c),y=d(v),g=Yt(s,f,3),m=se(y.length),b=0,w=l||Ve,S=t?w(c,m):r||a?w(c,0):void 0;m>b;b++)if((u||b in y)&&(h=g(p=y[b],b,v),e))if(t)S[b]=h;else if(h)switch(e){case 3:return!0;case 5:return p;case 6:return b;case 2:po.call(S,p)}else switch(e){case 4:return!1;case 7:po.call(S,p)}return i?-1:n||o?o:S}},vo={forEach:ho(0),map:ho(1),filter:ho(2),some:ho(3),every:ho(4),find:ho(5),findIndex:ho(6),filterOut:ho(7)},yo=Object.defineProperty,go={},mo=function(e){throw e},bo=function(e,t){if(b(go,e))return go[e];t||(t={});var r=[][e],n=!!b(t,"ACCESSORS")&&t.ACCESSORS,a=b(t,0)?t[0]:mo,u=b(t,1)?t[1]:void 0;return go[e]=!!r&&!o((function(){if(n&&!i)return!0;var e={length:-1};n?yo(e,1,{enumerable:!0,get:mo}):e[1]=1,r.call(e,a,u)}))},wo=vo.filter,So=$e("filter"),xo=bo("filter");je({target:"Array",proto:!0,forced:!So||!xo},{filter:function(e){return wo(this,e,arguments.length>1?arguments[1]:void 0)}});var Eo=function(e,t){var r=[][e];return!!r&&o((function(){r.call(null,t||function(){throw 1},1)}))},Oo=vo.forEach,ko=Eo("forEach"),Ro=bo("forEach"),To=ko&&Ro?[].forEach:function(e){return Oo(this,e,arguments.length>1?arguments[1]:void 0)};je({target:"Array",proto:!0,forced:[].forEach!=To},{forEach:To});var Co=function(){for(var e={isSupported:!1},t=["AudioContext","webkitAudioContext","mozAudioContext","msAudioContext"],r=0;r<t.length;r++)if(t[r]in window){e.isSupported=!0;break}return e.isSupported},Io=function(){var e=!1;return yn&&void 0!==window.mozRTCPeerConnection?"getSenders"in window.mozRTCPeerConnection.prototype&&(e=!0):ro&&void 0!==window.webkitRTCPeerConnection&&"getSenders"in window.webkitRTCPeerConnection.prototype&&(e=!0),e},jo=de.indexOf,Po=[].indexOf,Ao=!!Po&&1/[1].indexOf(1,-0)<0,Lo=Eo("indexOf"),Mo=bo("indexOf",{ACCESSORS:!0,1:0});je({target:"Array",proto:!0,forced:Ao||!Lo||!Mo},{indexOf:function(e){return Ao?Po.apply(this,arguments)||0:jo(this,e,arguments.length>1?arguments[1]:void 0)}});var Do=vo.map,_o=$e("map"),Fo=bo("map");for(var Bo in je({target:"Array",proto:!0,forced:!_o||!Fo},{map:function(e){return Do(this,e,arguments.length>1?arguments[1]:void 0)}}),kr){var No=n[Bo],Wo=No&&No.prototype;if(Wo&&Wo.forEach!==To)try{I(Wo,"forEach",To)}catch(Da){Wo.forEach=To}}je({target:"Array",stat:!0},{isArray:Pe});var Vo=Date.prototype,Qo=Vo.toString,Ho=Vo.getTime;new Date(NaN)+""!="Invalid Date"&&te(Vo,"toString",(function(){var e=Ho.call(this);return e==e?Qo.call(this):"Invalid Date"}));var Go=o((function(){Tt(1)}));je({target:"Object",stat:!0,forced:Go,sham:!Ot},{getPrototypeOf:function(e){return Tt(Ae(e))}});var Uo=RegExp.prototype,zo=Uo.toString,Ko=o((function(){return"/a/b"!=zo.call({source:"a",flags:"b"})})),$o="toString"!=zo.name;(Ko||$o)&&te(RegExp.prototype,"toString",(function(){var e=R(this),t=String(e.source),r=e.flags;return"/"+t+"/"+String(void 0===r&&e instanceof RegExp&&!("flags"in Uo)?Wr.call(e):r)}),{unsafe:!0});var Xo=Object.prototype.hasOwnProperty;function Yo(e){if(null==e)return!0;if("boolean"==typeof e)return!1;if("number"==typeof e)return 0===e;if("string"==typeof e)return 0===e.length;if("function"==typeof e)return 0===e.length;if(Array.isArray(e))return 0===e.length;if(e instanceof Error)return""===e.message;if(function(e){if(!e||"object"!==Ze(e)||"[object Object]"!=Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Function.prototype.toString.call(r)===Function.prototype.toString.call(Object)}(e))switch(Object.prototype.toString.call(e)){case"[object File]":case"[object Map]":case"[object Set]":return 0===e.size;case"[object Object]":for(var t in e)if(Xo.call(e,t))return!1;return!0}return!1}var qo=function(e){return void 0===e},Jo=function(){var e=tt(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ri()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Zo(t);case 4:if(!(r=e.sent).audio){e.next=11;break}return e.next=8,ui();case 8:if(0!==e.sent.length){e.next=11;break}throw new Error({message:"no microphone detected, but you are trying to get audio stream, please check your microphone and the configuration on TRTC.createStream."});case 11:if(!r.video){e.next=17;break}return e.next=14,ai();case 14:if(0!==e.sent.length){e.next=17;break}throw new Error({message:"no camera detected, but you are trying to get video stream, please check your camera and the configuration on TRTC.createStream."});case 17:return e.next=19,navigator.mediaDevices.getUserMedia(r);case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Zo(e){return ei.apply(this,arguments)}function ei(){return(ei=tt(regeneratorRuntime.mark((function e(t){var r,n,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={echoCancellation:t.echoCancellation,autoGainControl:t.autoGainControl,noiseSuppression:t.noiseSuppression},t.audio){e.next=5;break}r=!1,e.next=15;break;case 5:if(Yo(t.microphoneId)){e.next=9;break}r=it({deviceId:{exact:t.microphoneId},sampleRate:t.sampleRate,channelCount:t.channelCount},r),e.next=15;break;case 9:return r=it({sampleRate:t.sampleRate,channelCount:t.channelCount},r),e.next=12,ui();case 12:n=e.sent,(o=n.filter((function(e){var t=e.deviceId;return t.length>0&&"default"!==t}))).length>0&&(r.deviceId={exact:o[0].deviceId});case 15:return i={},i=!qo(t.facingMode)&&t.video?{facingMode:t.facingMode,width:t.width,height:t.height,frameRate:t.frameRate}:!Yo(t.cameraId)&&t.video?{deviceId:{exact:t.cameraId},width:t.width,height:t.height,frameRate:t.frameRate}:!!t.video&&(!!qo(t.width)||{width:t.width,height:t.height,frameRate:t.frameRate}),e.abrupt("return",{audio:r,video:i});case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ti=function(){var e=tt(regeneratorRuntime.mark((function e(t){var r,n,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[7680,4320],o={},e.prev=2,e.next=5,Jo({cameraId:t,video:!0,width:n[0],height:n[1]});case 5:r=e.sent,i=r.getTracks(),a=i[0].getSettings(),o={maxWidth:a.width,maxHeight:a.height},i[0].stop(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),ri=function(){return!!qo(navigator.mediaDevices)&&(console.error("navigator.mediaDevices is not supported on your browser"),!0)},ni=function(){return"http:"===location.protocol&&!ao&&(console.error("you should use https"),!0)},oi=function(){if(!navigator.mediaDevices)return!1;var e=["getUserMedia","enumerateDevices"];return e.filter((function(e){return e in navigator.mediaDevices})).length===e.length},ii=function(){var e=tt(regeneratorRuntime.mark((function e(){var t,r,n,o,i,a,u,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ni()&&!ri()){e.next=2;break}return e.abrupt("return",[]);case 2:return t=!1,r=!1,n=[],o=[],i=[],a={},e.next=13,navigator.mediaDevices.enumerateDevices();case 13:e.sent.forEach((function(e){var u={};for(var c in e)try{"function"!=typeof e[c]&&(u[c]=e[c])}catch(s){}a[u.deviceId+u.label+u.kind]||("audio"===u.kind&&(u.kind="audioinput"),"video"===u.kind&&(u.kind="videoinput"),u.deviceId||(u.deviceId=u.id),u.label?("videoinput"!==u.kind||t||(t=!0),"audioinput"!==u.kind||r||(r=!0)):"videoinput"===u.kind?u.label="Camera ".concat(i.length+1):"audioinput"===u.kind?u.label="Microphone ".concat(n.length+1):"audiooutput"===u.kind?u.label="Speaker ".concat(o.length+1):u.label="Please invoke getUserMedia once.","audioinput"===u.kind&&-1===n.indexOf(u)&&n.push(u),"audiooutput"===u.kind&&-1===o.indexOf(u)&&o.push(u),"videoinput"===u.kind&&-1===i.indexOf(u)&&i.push(u),a[u.deviceId+u.label+u.kind]=u)})),u=0;case 16:if(!(u<i.length)){e.next=25;break}return c=i[u],e.next=20,ti(c.deviceId);case 20:s=e.sent,c.resolution=s;case 22:u++,e.next=16;break;case 25:return e.abrupt("return",{hasWebCamPermission:t,hasMicrophonePermission:r,cameras:i,speakers:o,microphones:n});case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ai=function(){var e=tt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ni()&&!ri()){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,navigator.mediaDevices.enumerateDevices();case 4:return t=e.sent,e.abrupt("return",t.filter((function(e){return"videoinput"===e.kind})).map((function(e,t){var r=e.label;e.label||(r="camera_".concat(t));var n={label:r,deviceId:e.deviceId,kind:e.kind};return e.groupId&&(n.groupId=e.groupId),n})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ui=function(){var e=tt(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ni()&&!ri()){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,navigator.mediaDevices.enumerateDevices();case 4:return t=e.sent,e.abrupt("return",t.filter((function(e){return"audioinput"===e.kind})).map((function(e,t){var r=e.label;e.label||(r="microphone_".concat(t));var n={label:r,deviceId:e.deviceId,kind:e.kind};return e.groupId&&(n.groupId=e.groupId),n})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ci=function(){var e=tt(regeneratorRuntime.mark((function e(){var t,r,n,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",r=!1,n=!1,e.prev=3,o=new RTCPeerConnection,(i=document.createElement("canvas")).getContext("2d"),a=i.captureStream(0),o.addTrack(a.getVideoTracks()[0],a),e.next=11,o.createOffer();case 11:return-1!==(t=e.sent).sdp.toLowerCase().indexOf("h264")&&(r=!0),-1!==t.sdp.toLowerCase().indexOf("vp8")&&(n=!0),o.close(),e.abrupt("return",{isH264EncodeSupported:r,isVp8EncodeSupported:n});case 18:return e.prev=18,e.t0=e.catch(3),e.abrupt("return",{isH264EncodeSupported:!1,isVp8EncodeSupported:!1});case 21:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(){return e.apply(this,arguments)}}(),si=function(){var e=tt(regeneratorRuntime.mark((function e(){var t,r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",r=!1,n=!1,e.prev=3,o=new RTCPeerConnection,e.next=7,o.createOffer({offerToReceiveAudio:1,offerToReceiveVideo:1});case 7:return-1!==(t=e.sent).sdp.toLowerCase().indexOf("h264")&&(r=!0),-1!==t.sdp.toLowerCase().indexOf("vp8")&&(n=!0),o.close(),e.abrupt("return",{isH264DecodeSupported:r,isVp8DecodeSupported:n});case 14:return e.prev=14,e.t0=e.catch(3),e.abrupt("return",{isH264DecodeSupported:!1,isVp8DecodeSupported:!1});case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}(),fi=vo.find,li=!0,pi=bo("find");"find"in[]&&Array(1).find((function(){li=!1})),je({target:"Array",proto:!0,forced:li||!pi},{find:function(e){return fi(this,e,arguments.length>1?arguments[1]:void 0)}}),xt("find");var di,hi,vi,yi=n.Promise,gi=Ne("species"),mi=/(iphone|ipod|ipad).*applewebkit/i.test(Qe),bi="process"==l(n.process),wi=n.location,Si=n.setImmediate,xi=n.clearImmediate,Ei=n.process,Oi=n.MessageChannel,ki=n.Dispatch,Ri=0,Ti={},Ci=function(e){if(Ti.hasOwnProperty(e)){var t=Ti[e];delete Ti[e],t()}},Ii=function(e){return function(){Ci(e)}},ji=function(e){Ci(e.data)},Pi=function(e){n.postMessage(e+"",wi.protocol+"//"+wi.host)};Si&&xi||(Si=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return Ti[++Ri]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},di(Ri),Ri},xi=function(e){delete Ti[e]},bi?di=function(e){Ei.nextTick(Ii(e))}:ki&&ki.now?di=function(e){ki.now(Ii(e))}:Oi&&!mi?(vi=(hi=new Oi).port2,hi.port1.onmessage=ji,di=Yt(vi.postMessage,vi,1)):n.addEventListener&&"function"==typeof postMessage&&!n.importScripts&&wi&&"file:"!==wi.protocol&&!o(Pi)?(di=Pi,n.addEventListener("message",ji,!1)):di="onreadystatechange"in x("script")?function(e){lt.appendChild(x("script")).onreadystatechange=function(){lt.removeChild(this),Ci(e)}}:function(e){setTimeout(Ii(e),0)});var Ai,Li,Mi,Di,_i,Fi,Bi,Ni,Wi={set:Si,clear:xi},Vi=k.f,Qi=Wi.set,Hi=n.MutationObserver||n.WebKitMutationObserver,Gi=n.document,Ui=n.process,zi=n.Promise,Ki=Vi(n,"queueMicrotask"),$i=Ki&&Ki.value;$i||(Ai=function(){var e,t;for(bi&&(e=Ui.domain)&&e.exit();Li;){t=Li.fn,Li=Li.next;try{t()}catch(Da){throw Li?Di():Mi=void 0,Da}}Mi=void 0,e&&e.enter()},!mi&&!bi&&Hi&&Gi?(_i=!0,Fi=Gi.createTextNode(""),new Hi(Ai).observe(Fi,{characterData:!0}),Di=function(){Fi.data=_i=!_i}):zi&&zi.resolve?(Bi=zi.resolve(void 0),Ni=Bi.then,Di=function(){Ni.call(Bi,Ai)}):Di=bi?function(){Ui.nextTick(Ai)}:function(){Qi.call(n,Ai)});var Xi,Yi,qi,Ji,Zi=$i||function(e){var t={fn:e,next:void 0};Mi&&(Mi.next=t),Li||(Li=t,Di()),Mi=t},ea=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=Xt(t),this.reject=Xt(r)},ta={f:function(e){return new ea(e)}},ra=function(e,t){if(R(e),y(t)&&t.constructor===e)return t;var r=ta.f(e);return(0,r.resolve)(t),r.promise},na=function(e){try{return{error:!1,value:e()}}catch(Da){return{error:!0,value:Da}}},oa=Wi.set,ia=Ne("species"),aa="Promise",ua=ee.get,ca=ee.set,sa=ee.getterFor(aa),fa=yi,la=n.TypeError,pa=n.document,da=n.process,ha=oe("fetch"),va=ta.f,ya=va,ga=!!(pa&&pa.createEvent&&n.dispatchEvent),ma="function"==typeof PromiseRejectionEvent,ba=Ce(aa,(function(){if(!(_(fa)!==String(fa))){if(66===ze)return!0;if(!bi&&!ma)return!0}if(ze>=51&&/native code/.test(fa))return!1;var e=fa.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[ia]=t,!(e.then((function(){}))instanceof t)})),wa=ba||!lr((function(e){fa.all(e).catch((function(){}))})),Sa=function(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t},xa=function(e,t){if(!e.notified){e.notified=!0;var r=e.reactions;Zi((function(){for(var n=e.value,o=1==e.state,i=0;r.length>i;){var a,u,c,s=r[i++],f=o?s.ok:s.fail,l=s.resolve,p=s.reject,d=s.domain;try{f?(o||(2===e.rejection&&Ra(e),e.rejection=1),!0===f?a=n:(d&&d.enter(),a=f(n),d&&(d.exit(),c=!0)),a===s.promise?p(la("Promise-chain cycle")):(u=Sa(a))?u.call(a,l,p):l(a)):p(n)}catch(Da){d&&!c&&d.exit(),p(Da)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&Oa(e)}))}},Ea=function(e,t,r){var o,i;ga?((o=pa.createEvent("Event")).promise=t,o.reason=r,o.initEvent(e,!1,!0),n.dispatchEvent(o)):o={promise:t,reason:r},!ma&&(i=n["on"+e])?i(o):"unhandledrejection"===e&&function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}("Unhandled promise rejection",r)},Oa=function(e){oa.call(n,(function(){var t,r=e.facade,n=e.value;if(ka(e)&&(t=na((function(){bi?da.emit("unhandledRejection",n,r):Ea("unhandledrejection",r,n)})),e.rejection=bi||ka(e)?2:1,t.error))throw t.value}))},ka=function(e){return 1!==e.rejection&&!e.parent},Ra=function(e){oa.call(n,(function(){var t=e.facade;bi?da.emit("rejectionHandled",t):Ea("rejectionhandled",t,e.value)}))},Ta=function(e,t,r){return function(n){e(t,n,r)}},Ca=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,xa(e,!0))},Ia=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw la("Promise can't be resolved itself");var n=Sa(t);n?Zi((function(){var r={done:!1};try{n.call(t,Ta(Ia,r,e),Ta(Ca,r,e))}catch(Da){Ca(r,Da,e)}})):(e.value=t,e.state=1,xa(e,!1))}catch(Da){Ca({done:!1},Da,e)}}};ba&&(fa=function(e){ar(this,fa,aa),Xt(e),Xi.call(this);var t=ua(this);try{e(Ta(Ia,t),Ta(Ca,t))}catch(Da){Ca(t,Da)}},(Xi=function(e){ca(this,{type:aa,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=pr(fa.prototype,{then:function(e,t){var r,n,o,i=sa(this),a=va((r=fa,void 0===(o=R(this).constructor)||null==(n=R(o)[gi])?r:Xt(n)));return a.ok="function"!=typeof e||e,a.fail="function"==typeof t&&t,a.domain=bi?da.domain:void 0,i.parent=!0,i.reactions.push(a),0!=i.state&&xa(i,!1),a.promise},catch:function(e){return this.then(void 0,e)}}),Yi=function(){var e=new Xi,t=ua(e);this.promise=e,this.resolve=Ta(Ia,t),this.reject=Ta(Ca,t)},ta.f=va=function(e){return e===fa||e===qi?new Yi(e):ya(e)},"function"==typeof yi&&(Ji=yi.prototype.then,te(yi.prototype,"then",(function(e,t){var r=this;return new fa((function(e,t){Ji.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof ha&&je({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return ra(fa,ha.apply(n,arguments))}}))),je({global:!0,wrap:!0,forced:ba},{Promise:fa}),Lt(fa,aa,!1),hr(aa),qi=oe(aa),je({target:aa,stat:!0,forced:ba},{reject:function(e){var t=va(this);return t.reject.call(void 0,e),t.promise}}),je({target:aa,stat:!0,forced:ba},{resolve:function(e){return ra(this,e)}}),je({target:aa,stat:!0,forced:wa},{all:function(e){var t=this,r=va(t),n=r.resolve,o=r.reject,i=na((function(){var r=Xt(t.resolve),i=[],a=0,u=1;ir(e,(function(e){var c=a++,s=!1;i.push(void 0),u++,r.call(t,e).then((function(e){s||(s=!0,i[c]=e,--u||n(i))}),o)})),--u||n(i)}));return i.error&&o(i.value),r.promise},race:function(e){var t=this,r=va(t),n=r.reject,o=na((function(){var o=Xt(t.resolve);ir(e,(function(e){o.call(t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}});var ja=[].slice,Pa=/MSIE .\./.test(Qe),Aa=function(e){return function(t,r){var n=arguments.length>2,o=n?ja.call(arguments,2):void 0;return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,r)}};function La(){return Ma.apply(this,arguments)}function Ma(){return(Ma=tt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=tt(regeneratorRuntime.mark((function e(t,r){var n,o,i,a,u,c,s,f,l,p,d,h,v,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=function(){clearInterval(v),clearInterval(a),clearTimeout(y),c.close(),s.close(),u.getTracks().forEach((function(e){return e.stop()}))},o=document.createElement("canvas"),i=o.getContext("2d"),o.width=640,o.height=480,a=setInterval((function(){i.fillText("test",0,0)}),33),u=o.captureStream(15),c=new RTCPeerConnection({}),s=new RTCPeerConnection({}),c.addEventListener("icecandidate",(function(e){s.addIceCandidate(e.candidate)})),s.addEventListener("icecandidate",(function(e){c.addIceCandidate(e.candidate)})),f=RTCRtpSender.getCapabilities("video"),l=f.codecs,p=l.find((function(e){return"video/H264"===e.mimeType})),c.addTransceiver(u.getVideoTracks()[0],{direction:"sendonly",streams:[u],sendEncodings:[{maxBitrate:5e5}]}),s.addTransceiver("video",{direction:"recvonly"}),c.getTransceivers()[0].setCodecPreferences([p]),e.next=19,c.createOffer();case 19:return d=e.sent,e.next=22,c.setLocalDescription(d);case 22:return e.next=24,s.setRemoteDescription(d);case 24:return e.next=26,s.createAnswer();case 26:return h=e.sent,e.next=29,s.setLocalDescription(h);case 29:return e.next=31,c.setRemoteDescription(h);case 31:v=-1,y=-1,y=setTimeout((function(){n(),t(!1)}),3e4),v=setInterval(tt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.getStats();case 2:e.sent.forEach((function(e){"outbound-rtp"===e.type&&"video"===e.mediaType&&(void 0===e.encoderImplementation&&(n(),r(new Error("your browser does not support to detect HW acceleration enabled."))),"ExternalEncoder"===e.encoderImplementation&&(n(),t(!0)))}));case 4:case"end":return e.stop()}}),e)}))),500),e.next=40;break;case 37:e.prev=37,e.t0=e.catch(0),r(e.t0);case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,r){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return je({global:!0,bind:!0,forced:Pa},{setTimeout:Aa(n.setTimeout),setInterval:Aa(n.setInterval)}),function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.system=null,this.APISupported=null,this.devices=null,this.codecsSupported=null,this.report=null}var t,r,n,o,i,a,u,c;return t=e,(r=[{key:"isTRTCSupported",value:(c=tt(regeneratorRuntime.mark((function e(){var t,r,n,o,i,a,u,c,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getReportAsync();case 2:if(t=this.APISupported,r=t.isWebRTCSupported,n=t.isUserMediaSupported,o=t.isWebSocketSupported,r){e.next=5;break}return e.abrupt("return",{result:!1,reason:"you browser does not support WebRTC."});case 5:if(o){e.next=7;break}return e.abrupt("return",{result:!1,reason:"you browser does not support WebSocket."});case 7:if(n){e.next=9;break}return e.abrupt("return",{result:!1,reason:"you browser does not support getUserMedia."});case 9:if(i=this.codecsSupported,a=i.isH264EncodeSupported,u=i.isVp8EncodeSupported,c=i.isH264DecodeSupported,s=i.isVp8DecodeSupported,a||u){e.next=12;break}return e.abrupt("return",{result:!1,reason:"isH264EncodeSupported: ".concat(a," isVp8EncodeSupported: ").concat(u," ")});case 12:if(c||s){e.next=14;break}return e.abrupt("return",{result:!1,reason:"isH264DecodeSupported: ".concat(c," isVp8DecodeSupported: ").concat(s," ")});case 14:if(!(Gn||mn||wn&&Sn<80||yn&&gn<56)){e.next=16;break}return e.abrupt("return",{result:!1,reason:"your browser does not qualify, it is recommended to use Chrome and firefox."});case 16:return e.abrupt("return",{result:!0});case 17:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"getReportAsync",value:(u=tt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.getSystem(),this.getAPISupported(),e.next=4,this.getCodecAsync();case 4:return e.next=6,this.getDevicesAsync();case 6:return this.report={system:this.system,APISupported:this.APISupported,codecsSupported:this.codecsSupported,devices:this.devices},e.abrupt("return",this.report);case 8:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"getCodecAsync",value:(a=tt(regeneratorRuntime.mark((function e(){var t,r,n,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ci();case 2:return t=e.sent,r=t.isH264EncodeSupported,n=t.isVp8EncodeSupported,e.next=7,si();case 7:return o=e.sent,i=o.isH264DecodeSupported,a=o.isVp8DecodeSupported,this.codecsSupported={isH264EncodeSupported:r,isVp8EncodeSupported:n,isH264DecodeSupported:i,isVp8DecodeSupported:a},e.abrupt("return",this.codecsSupported);case 12:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getDevicesAsync",value:(i=tt(regeneratorRuntime.mark((function e(){var t,r,n,o,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ii();case 2:return t=e.sent,r=t.hasWebCamPermission,n=t.hasMicrophonePermission,o=t.cameras,i=t.microphones,a=t.speakers,this.devices={cameras:o,microphones:i,speakers:a,hasWebCamPermission:r,hasMicrophonePermission:n},e.abrupt("return",this.devices);case 10:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getSystem",value:function(){var e,t;return this.system={UA:fo,OS:(t="unknown",uo.get(!0)&&(t=uo.get(!0)),t),browser:so(),displayResolution:lo(),hardwareConcurrency:null===(e=window.navigator)||void 0===e?void 0:e.hardwareConcurrency},this.system}},{key:"getAPISupported",value:function(){var e,t,r;return this.APISupported={isUserMediaSupported:oi(),isWebRTCSupported:["RTCPeerConnection","webkitRTCPeerConnection","RTCIceGatherer"].filter((function(e){return e in window})).length>0,isWebSocketSupported:"WebSocket"in window&&2===window.WebSocket.CLOSING,isWebAudioSupported:Co(),isScreenCaptureAPISupported:!(null===(r=navigator.mediaDevices)||void 0===r||!r.getDisplayMedia),isCanvasCapturingSupported:(t=!1,["captureStream","mozCaptureStream","webkitCaptureStream"].forEach((function(e){"undefined"!=typeof document&&"function"==typeof document.createElement&&!t&&e in document.createElement("canvas")&&(t=!0)})),t),isVideoCapturingSupported:(e=!1,["captureStream","mozCaptureStream","webkitCaptureStream"].forEach((function(t){"undefined"!=typeof document&&"function"==typeof document.createElement&&!e&&t in document.createElement("video")&&(e=!0)})),e),isRTPSenderReplaceTracksSupported:Io(),isApplyConstraintsSupported:"undefined"!=typeof MediaStreamTrack&&"applyConstraints"in MediaStreamTrack.prototype},this.APISupported}},{key:"isHardWareAccelerationEnabled",value:(o=tt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,La();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}])&&rt(t.prototype,r),n&&rt(t,n),e}()}));
